<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE-edge">
    <meta name=viewpoint content="width=device=width, initial-scale=1.0">
    <title> 6-1 Demo Local Storage</title>
    <script src="6_1_localStorage.js"></script>

    <script>
        let arrayJSON = localStorage.getItem("textbooksArray"); //get from localStorage
        let arrayObject = JSON.parse(arrayJSON);
        console.log(arrayObject);


        function pageLoad() {

            //Book 1
            document.getElementById("bookTitle").innerHTML = arrayObject[0].book_title;
            document.getElementById("bookPrice").innerHTML = "$" + arrayObject[0].book_price;
            document.getElementById("bookAuthor").innerHTML = arrayObject[0].book_Author
            //book 2
            document.getElementById("bookTitle2").innerHTML = arrayObject[1].book_title;
            document.getElementById("bookPrice2").innerHTML = "$" + arrayObject[1].book_price;
            document.getElementById("bookAuthor2").innerHTML = arrayObject[1].book_Author
            //book 3
            document.getElementById("bookTitle3").innerHTML = arrayObject[2].book_title;
            document.getElementById("bookPrice3").innerHTML = "$" + arrayObject[2].book_price;
            document.getElementById("bookAuthor3").innerHTML = arrayObject[2].book_Author

        }//end of pageLoad()

        //Update Books
        arrayObject.push(jsVBBook2 = {book_title: "JavaScript: Absolute Beginner's Guide", book_price: 29.99, book_Author: "Chinnathambi, Kirupa"});
        console.log(arrayObject)


        //Back in to Local Storage
        bookUpDateJSON = JSON.stringify(arrayObject);
        localStorage.setItem("updateBookArray", bookUpDateJSON);

    </script>

</head>

<body onload="pageLoad()">
    <h1>WDV321 Advanced Javascript</h1>
    <h2>Unit-6 Demostrate local Storage</h2>
    <br>
    <h3>Book 1</h3>
    <div>
        <p>Title: <span id=bookTitle></span></p>
        <p>Price: <span id=bookPrice></span></p>
        <p>Author: <span id=bookAuthor></span></p>
    </div>

    <br>
    <h3>Book 2</h3>
    <div>
        <p>Title: <span id=bookTitle2></span></p>
        <p>Price: <span id=bookPrice2></span></p>
        <p>Author: <span id=bookAuthor2></span></p>
    </div>

    <br>
    <h3>Book 3</h3>
    <div>
        <p>Title: <span id=bookTitle3></span></p>
        <p>Price: <span id=bookPrice3></span></p>
        <p>Author: <span id=bookAuthor3></span></p>
    </div>



</body>

</html>